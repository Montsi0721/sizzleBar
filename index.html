<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sizzle Bar | Kota Specialists</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
</head>

<body>
    <header style="padding: 15px 0px; background-color: rgba(26, 26, 26, 0.98);">
        <div class="container header-container">
            <div>
                <div class="logo">SIZZLE <span>BAR</span></div>
                <div class="tagline">KOTA SPECIALISTS</div>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <nav>
                <ul id="navMenu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#menu">Menu</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li class="dark-mode-toggle-container">
                        <button id="darkModeToggle" class="dark-mode-toggle" title="Toggle Dark Mode">
                            <i class="fas fa-moon"></i>
                            <span>Dark Mode</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero-carousel" id="home">
        <div class="carousel-slides">
            <!-- Slide 1 -->
            <div class="carousel-slide active">
                <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                    alt="Delicious Kota Burger">
                <div class="carousel-content">
                    <h1>KOTA <span>PERFECTION</span></h1>
                    <p>Home of the best Kotas in town. Fresh, loaded, and bursting with flavor in every bite.</p>
                    <p>Ha Pena Pena, Kofi Ana Road & Abia Road Junction</p>
                    <a href="#menu" class="cta-button">Explore Our Menu</a>
                </div>
            </div>

            <!-- Slide 2 -->
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1553979459-d2229ba7433b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                    alt="Juicy Burgers">
                <div class="carousel-content">
                    <h1>JUICY <span>BURGERS</span></h1>
                    <p>Handcrafted burgers made with premium ingredients and served with crispy fries.</p>
                    <p>Freshly prepared daily with love and passion.</p>
                    <a href="#menu" class="cta-button">View Burgers</a>
                </div>
            </div>

            <!-- Slide 3 -->
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                    alt="Chesa-nyama Special">
                <div class="carousel-content">
                    <h1>CHESA-NYAMA <span>SPECIAL</span></h1>
                    <p>Authentic South African braai experience with flavorful meats and traditional sides.</p>
                    <p>Served with papa and your choice of moroho or chakalaka.</p>
                    <a href="#menu" class="cta-button">Try Our Chesa</a>
                </div>
            </div>

            <!-- Slide 4 -->
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                    alt="Chinese Food">
                <div class="carousel-content">
                    <h1>ASIAN <span>FLAVORS</span></h1>
                    <p>Delicious Chinese food options available in small, medium, and large portions.</p>
                    <p>Perfect for sharing or enjoying by yourself.</p>
                    <a href="#menu" class="cta-button">See Chinese Menu</a>
                </div>
            </div>
        </div>

        <!-- Carousel Controls -->
        <div class="carousel-controls">
            <button class="carousel-btn prev-btn">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="carousel-btn next-btn">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <!-- Carousel Navigation Dots -->
        <div class="carousel-nav">
            <button class="carousel-dot active" data-slide="0"></button>
            <button class="carousel-dot" data-slide="1"></button>
            <button class="carousel-dot" data-slide="2"></button>
            <button class="carousel-dot" data-slide="3"></button>
        </div>

        <!-- Auto-play Indicator -->
        <div class="carousel-auto-play">
            <i class="fas fa-play-circle"></i>
            <span>Auto-play</span>
        </div>

        <!-- Slide Counter -->
        <div class="carousel-indicators">
            <div class="carousel-counter">
                <span class="current-slide">1</span> / <span class="total-slides">4</span>
            </div>
        </div>
    </section>

    <section class="about" id="about">
        <div class="container">
            <h2 class="section-title">Our Story</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>Welcome to Sizzle Bar, where we've perfected the art of the Kota. Born from a passion for
                        authentic street food, we've taken this beloved local favorite and elevated it with our unique
                        Sizzle Bar touch.</p>
                    <p>Our journey began with a simple mission: to create the most delicious, satisfying Kota experience
                        possible. We start with fresh quarter loaves, hollowed out and toasted to perfection, then layer
                        them with the finest ingredients.</p>
                    <p>What sets us apart is our attention to detail. From our secret spice blends to our house-made
                        sauces, every element is crafted with care. We believe a great Kota should be a complete meal -
                        satisfying, flavorful, and memorable.</p>
                    <p>Join us for our grand opening on December 4th, 2025, and taste why Sizzle Bar is becoming the
                        go-to destination for Kota lovers.</p>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                        alt="Delicious Kota">
                </div>
            </div>
        </div>
    </section>

    <section class="menu" id="menu">
    <div class="container">
        <h2 class="section-title">Our Menu</h2>
        <div class="menu-tabs">
            <button class="tab-btn active" data-tab="all">All</button>
            <button class="tab-btn" data-tab="burgers">Burgers</button>
            <button class="tab-btn" data-tab="kotas">Kotas</button>
            <button class="tab-btn" data-tab="chinese">Chinese Food</button>
            <button class="tab-btn" data-tab="chesanyama">Chesa-nyama</button>
            <button class="tab-btn" data-tab="classics">Classics</button>
        </div>

        <!-- Menu content will be dynamically populated here -->
    </div>
</section>

    <section class="contact" id="contact">
        <div class="container">
            <h2 class="section-title" style="color: white;">Order Now</h2>
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Contact</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Ha Pena Pena, Kofi Ana Road & Abia Road Junction</p>
                    <p><i class="fas fa-phone"></i> +266 57470711</p>
                    <p><i class="fas fa-envelope"></i> orders@sizzlebar.com</p>

                    <div class="social-links">
                        <a href="https://www.facebook.com/profile.php?id=61584632849238" target="_blank"
                            title="Follow us on Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://wa.me/26657470711" target="_blank" title="Order on WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="https://www.instagram.com/sizz.le25/" target="_blank" title="Follow us on Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>

                    <!-- <div class="order-buttons">
                        <a href="tel:+26657470711" class="order-btn">
                            <i class="fas fa-phone"></i> Call to Order
                        </a>
                        <a href="https://wa.me/26657470711" target="_blank" class="order-btn">
                            <i class="fab fa-whatsapp"></i> Order on WhatsApp
                        </a>
                    </div> -->
                </div>
                <div class="contact-hours">
                    <h3>Opening Hours</h3>
                    <p><strong>Monday - Sunday:</strong> 8:00 AM - 8:30 PM</p>
                    <p><strong>Breakfast:</strong> 8:00 AM - 11:00 AM (Daily)</p>
                    <p><strong>Last Orders:</strong> 30 minutes before closing</p>
                </div>
            </div>
        </div>
    </section>

    <div class="order-modal" id="orderModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>

            <div class="modal-header">
                <h3>Order <span id="modalItemName"></span></h3>
                <p class="item-price" id="modalItemPrice"></p>
            </div>

            <form id="orderForm">
                <div class="form-group">
                    <label for="customerName"><i class="fas fa-user"></i> Your Name *</label>
                    <input type="text" id="customerName" name="customerName" placeholder="Enter your full name"
                        required>
                </div>

                <div class="form-group">
                    <label for="customerPhone"><i class="fas fa-phone"></i> Phone Number *</label>
                    <input type="tel" id="customerPhone" name="customerPhone" placeholder="e.g., 266 5747 0711"
                        required>
                </div>

                <div class="form-group">
                    <label for="orderQuantity"><i class="fas fa-hashtag"></i> Quantity *</label>
                    <div class="quantity-selector">
                        <button type="button" class="quantity-btn minus" id="decreaseQty">-</button>
                        <input type="number" id="orderQuantity" name="orderQuantity" value="1" min="1" max="10">
                        <button type="button" class="quantity-btn plus" id="increaseQty">+</button>
                    </div>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-edit"></i> Special Instructions (Optional)</label>
                    <textarea id="specialInstructions" name="specialInstructions"
                        placeholder="Any special requests or allergies..." rows="3"></textarea>
                </div>

                <div class="order-summary">
                    <h4><i class="fas fa-receipt"></i> Order Summary</h4>
                    <div class="summary-item">
                        <span>Item:</span>
                        <span id="summaryItemName"></span>
                    </div>
                    <div class="summary-item">
                        <span>Quantity:</span>
                        <span id="summaryQuantity">1</span>
                    </div>
                    <div class="summary-item">
                        <span>Unit Price:</span>
                        <span id="summaryUnitPrice"></span>
                    </div>
                    <div class="summary-item total">
                        <span><strong>Total:</strong></span>
                        <span><strong id="summaryTotalPrice"></strong></span>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="modal-btn secondary" id="cancelOrder">Cancel</button>
                    <button type="submit" class="modal-btn primary" id="submitOrder">
                        <i class="fas fa-shopping-cart"></i> Place Order
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="modal-content success-content">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3>Order Successful!</h3>
            <p class="success-message">Thank you for your order. We'll prepare it right away!</p>

            <div class="order-details">
                <div class="detail-item">
                    <span>Order #:</span>
                    <span class="order-number" id="successOrderNumber"></span>
                </div>
                <div class="detail-item">
                    <span>Item:</span>
                    <span id="successItemName"></span>
                </div>
                <div class="detail-item">
                    <span>Quantity:</span>
                    <span id="successQuantity"></span>
                </div>
                <div class="detail-item">
                    <span>Total:</span>
                    <span id="successTotalPrice"></span>
                </div>
                <div class="detail-item">
                    <span>Estimated Pickup:</span>
                    <span class="pickup-time">15-20 minutes</span>
                </div>
            </div>

            <div class="success-actions">
                <p class="modal-contact-info"><i class="fas fa-info-circle"></i> We'll call you at <span
                        id="successPhone"></span> if needed</p>
                <button class="modal-btn primary" id="closeSuccess">Continue Browsing</button>
            </div>
        </div>
    </div>

    <!-- Image Lightbox -->
    <div class="image-lightbox" id="imageLightbox">
        <button class="lightbox-close" id="lightboxClose">&times;</button>

        <div class="lightbox-content" id="lightboxContent">
            <img class="lightbox-image" id="lightboxImage" src="" alt="">
            <div class="lightbox-caption" id="lightboxCaption"></div>
        </div>

        <div class="lightbox-nav">
            <button class="lightbox-nav-btn prev-lightbox" id="prevLightbox">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="lightbox-nav-btn next-lightbox" id="nextLightbox">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>© 2025 Sizzle Bar - Kota Specialists. All rights reserved.</p>
            <p>Ha Pena Pena, Kofi Ana Road & Abia Road Junction | +266 57470711</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">Kota • Burgers • Chinese Food • Chesa-nyama • Local Favorite
            </p>
        </div>
    </footer>

    <script>
    // DATA CONFIGURATION

    const menuData = {
        burgers: {
            title: "Burgers",
            icon: "fas fa-hamburger",
            subtitle: "Served with a side of fries",
            items: [
                {
                    name: "Student Burger",
                    price: "M45",
                    image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Freshly cut tomatoes and onions, lettuce and beef patty",
                    category: "burgers"
                },
                {
                    name: "Classic Burger",
                    price: "M50",
                    image: "https://images.unsplash.com/photo-1553979459-d2229ba7433b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Freshly cut tomatoes and onions, lettuce, beef patty and cheese",
                    category: "burgers"
                },
                {
                    name: "Chicken Burger",
                    price: "M50",
                    image: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Freshly cut tomatoes and onions, lettuce and chicken fillets",
                    category: "burgers"
                },
                {
                    name: "Something Meaty",
                    price: "M50",
                    image: "https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Freshly cut onions, beef patty, bacon and cheese",
                    category: "burgers"
                }
            ]
        },
        kotas: {
            title: "Kotas",
            icon: "fas fa-bread-slice",
            subtitle: "",
            items: [
                {
                    name: "Value Kota",
                    price: "M20",
                    image: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Quarter loaf, chips, russian",
                    category: "kotas"
                },
                {
                    name: "Classic Kota",
                    price: "M25",
                    image: "assets/classicKota.jpg",
                    description: "Quarter loaf, chips, russian and fried egg",
                    category: "kotas"
                },
                {
                    name: "Breakfast Kota",
                    price: "M30",
                    image: "https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Quarter loaf, chips, russian, lettuce, cucumber, cheese",
                    category: "kotas"
                },
                {
                    name: "King Kota",
                    price: "M35",
                    image: "assets/classicKota.jpg",
                    description: "Quarter loaf, chips, russian, fried egg and chicken fillet",
                    category: "kotas"
                }
            ]
        },
        chinese: {
            title: "Chinese Food",
            icon: "fas fa-utensils",
            subtitle: "",
            items: [
                {
                    name: "Small Chinese",
                    price: "M20",
                    image: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Perfect for a quick snack or light meal",
                    category: "chinese"
                },
                {
                    name: "Medium Chinese",
                    price: "M25",
                    image: "assets/mediumChinese.jpeg",
                    description: "Ideal portion for one person",
                    category: "chinese"
                },
                {
                    name: "Large Chinese",
                    price: "M30",
                    image: "https://images.unsplash.com/photo-1534422298391-e4f8c172dddb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Great for sharing or a hearty meal",
                    category: "chinese"
                }
            ]
        },
        chesanyama: {
            title: "Chesa-nyama",
            icon: "fas fa-drumstick-bite",
            subtitle: "Served with papa and moroho/chakalaka",
            items: [
                {
                    name: "Wors",
                    price: "M30",
                    image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Traditional South African sausage with sides",
                    category: "chesanyama"
                },
                {
                    name: "Chicken Chesa",
                    price: "M35",
                    image: "https://images.unsplash.com/photo-1603360946369-dc9bb6258143?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Juicy chicken portions with traditional sides",
                    category: "chesanyama"
                },
                {
                    name: "Pork",
                    price: "M40",
                    image: "https://images.unsplash.com/photo-1626645738196-c2a7c87a8f58?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Tender pork cuts served with papa and moroho/chakalaka",
                    category: "chesanyama"
                },
                {
                    name: "Beef",
                    price: "M45",
                    image: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "Flavorful beef cuts with traditional accompaniments",
                    category: "chesanyama"
                }
            ]
        },
        classics: {
            title: "Classics",
            icon: "fas fa-star",
            subtitle: "",
            items: [
                {
                    name: "Fries",
                    price: "From M15",
                    image: "https://images.unsplash.com/photo-1573080496219-bb080dd4f877?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "",
                    category: "classics"
                },
                {
                    name: "Lekoenya",
                    price: "M2",
                    image: "assets/lekoenya.jpg",
                    description: "",
                    category: "classics"
                },
                {
                    name: "Russian",
                    price: "M8",
                    image: "assets/russian.jpeg",
                    description: "",
                    category: "classics"
                },
                {
                    name: "Waffle",
                    price: "M2",
                    image: "https://images.unsplash.com/photo-1562376552-0d160a2f238d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    description: "",
                    category: "classics"
                }
            ]
        }
    };

    // STATE MANAGEMENT

    let currentItem = {
        name: '',
        price: 0,
        basePrice: 0
    };

    let currentSlide = 0;
    let slideInterval;
    let allMenuImages = [];
    let currentImageIndex = 0;

    // DOM ELEMENTS

    // Mobile Menu
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const navMenu = document.getElementById('navMenu');

    // Menu Elements
    const menuContainer = document.querySelector('.menu .container');
    const tabBtns = document.querySelectorAll('.tab-btn');
    
    // Order Modal Elements
    const orderButtons = document.querySelectorAll('.orderBtn');
    const orderModal = document.getElementById('orderModal');
    const successModal = document.getElementById('successModal');
    const closeModal = document.getElementById('closeModal');
    const cancelOrderBtn = document.getElementById('cancelOrder');
    const closeSuccessBtn = document.getElementById('closeSuccess');

    // Form Elements
    const orderForm = document.getElementById('orderForm');
    const modalItemName = document.getElementById('modalItemName');
    const modalItemPrice = document.getElementById('modalItemPrice');
    const orderQuantity = document.getElementById('orderQuantity');
    const increaseQty = document.getElementById('increaseQty');
    const decreaseQty = document.getElementById('decreaseQty');

    // Summary Elements
    const summaryItemName = document.getElementById('summaryItemName');
    const summaryQuantity = document.getElementById('summaryQuantity');
    const summaryUnitPrice = document.getElementById('summaryUnitPrice');
    const summaryTotalPrice = document.getElementById('summaryTotalPrice');

    // Success Modal Elements
    const successOrderNumber = document.getElementById('successOrderNumber');
    const successItemName = document.getElementById('successItemName');
    const successQuantity = document.getElementById('successQuantity');
    const successTotalPrice = document.getElementById('successTotalPrice');
    const successPhone = document.getElementById('successPhone');

    // Dark Mode Elements
    const darkModeToggle = document.getElementById('darkModeToggle');
    const darkModeIcon = darkModeToggle.querySelector('i');
    const darkModeText = darkModeToggle.querySelector('span');

    // Carousel Elements
    const carouselSlides = document.querySelector('.carousel-slides');
    const carouselDots = document.querySelectorAll('.carousel-dot');
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    const currentSlideEl = document.querySelector('.current-slide');
    const totalSlidesEl = document.querySelector('.total-slides');

    // Lightbox Elements
    const imageLightbox = document.getElementById('imageLightbox');
    const lightboxClose = document.getElementById('lightboxClose');
    const lightboxImage = document.getElementById('lightboxImage');
    const lightboxCaption = document.getElementById('lightboxCaption');
    const lightboxContent = document.getElementById('lightboxContent');
    const prevLightbox = document.getElementById('prevLightbox');
    const nextLightbox = document.getElementById('nextLightbox');

    // UTILITY FUNCTIONS

    function parsePrice(priceText) {
        const match = priceText.match(/M(\d+)/);
        return match ? parseInt(match[1]) : 0;
    }

    function formatPrice(amount) {
        return `M${amount}`;
    }

    function generateOrderNumber() {
        const prefix = 'SB';
        const timestamp = Date.now().toString().slice(-6);
        const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
        return `${prefix}-${timestamp}-${random}`;
    }

    // MENU RENDERING FUNCTIONS

    function createMenuItem(item) {
        const menuItem = document.createElement('div');
        menuItem.className = 'menu-item-simple';
        menuItem.dataset.category = item.category;
        
        menuItem.innerHTML = `
            <div class="menu-item-image">
                <img src="${item.image}" alt="${item.name}" loading="lazy">
            </div>
            <div class="menu-item-simple-header">
                <h4>${item.name}</h4>
                <div class="price">${item.price}</div>
            </div>
            <div class="menu-item-simple-header">
                <p>${item.description}</p>
                <button class="orderBtn">Order</button>
            </div>
        `;
        
        return menuItem;
    }

    function createMenuSection(categoryKey, categoryData) {
        const section = document.createElement('div');
        section.className = 'menu-section';
        section.id = `${categoryKey}-section`;
        
        let subtitleHTML = categoryData.subtitle ? 
            `<p class="menu-section-subtitle">${categoryData.subtitle}</p>` : '';
        
        section.innerHTML = `
            <h3 class="menu-section-title">
                <i class="${categoryData.icon}"></i> ${categoryData.title}
            </h3>
            ${subtitleHTML}
            <div class="menu-category"></div>
        `;
        
        const menuCategory = section.querySelector('.menu-category');
        
        // Add items to the category
        categoryData.items.forEach(item => {
            menuCategory.appendChild(createMenuItem(item));
        });
        
        // For classics category, add special grid class
        if (categoryKey === 'classics') {
            const classicGrid = document.createElement('div');
            classicGrid.className = 'classic-items-grid';
            classicGrid.innerHTML = section.querySelector('.menu-category').innerHTML;
            section.querySelector('.menu-category').innerHTML = '';
            section.querySelector('.menu-category').appendChild(classicGrid);
        }
        
        return section;
    }

    function renderAllMenuSections() {
        // Create container if it doesn't exist
        let menuContentContainer = document.querySelector('.menu-content-container');
        if (!menuContentContainer) {
            menuContentContainer = document.createElement('div');
            menuContentContainer.className = 'menu-content-container';
            menuContainer.appendChild(menuContentContainer);
        }
        
        menuContentContainer.innerHTML = '';
        
        Object.keys(menuData).forEach(categoryKey => {
            const section = createMenuSection(categoryKey, menuData[categoryKey]);
            menuContentContainer.appendChild(section);
        });
        
        // Re-initialize event listeners
        initializeMenuEventListeners();
        initLightbox();
    }

    function filterMenuByCategory(category) {
        let menuContentContainer = document.querySelector('.menu-content-container');
        if (!menuContentContainer) {
            menuContentContainer = document.createElement('div');
            menuContentContainer.className = 'menu-content-container';
            menuContainer.appendChild(menuContentContainer);
        }
        
        menuContentContainer.innerHTML = '';
        
        if (category === 'all') {
            renderAllMenuSections();
        } else if (menuData[category]) {
            const section = createMenuSection(category, menuData[category]);
            menuContentContainer.appendChild(section);
            initializeMenuEventListeners();
            initLightbox();
        }
    }

    // ORDER MODAL FUNCTIONS

    function initializeOrderModal(itemName, priceText) {
        currentItem.name = itemName;
        currentItem.basePrice = parsePrice(priceText);
        currentItem.price = priceText;

        // Update modal
        modalItemName.textContent = itemName;
        modalItemPrice.textContent = priceText;

        // Update summary
        summaryItemName.textContent = itemName;
        summaryUnitPrice.textContent = priceText;

        // Reset quantity
        orderQuantity.value = 1;
        updateTotalPrice();

        // Reset form
        orderForm.reset();
    }

    function updateTotalPrice() {
        const quantity = parseInt(orderQuantity.value) || 1;
        const total = currentItem.basePrice * quantity;

        summaryQuantity.textContent = quantity;
        summaryTotalPrice.textContent = formatPrice(total);
    }

    function closeOrderModal() {
        orderModal.classList.remove('active');
        document.body.style.overflow = '';
    }

    function closeSuccessModal() {
        successModal.classList.remove('active');
        document.body.style.overflow = '';
    }

    // CAROUSEL FUNCTIONS

    function updateCarousel() {
        carouselSlides.style.transform = `translateX(-${currentSlide * 100}%)`;

        carouselDots.forEach((dot, index) => {
            dot.classList.toggle('active', index === currentSlide);
        });

        currentSlideEl.textContent = currentSlide + 1;
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % carouselDots.length;
        updateCarousel();
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + carouselDots.length) % carouselDots.length;
        updateCarousel();
    }

    function goToSlide(index) {
        currentSlide = index;
        updateCarousel();
    }

    function startAutoPlay() {
        stopAutoPlay();
        slideInterval = setInterval(nextSlide, 5000);
    }

    function stopAutoPlay() {
        if (slideInterval) {
            clearInterval(slideInterval);
        }
    }

    // DARK MODE FUNCTIONS

    function enableDarkMode() {
        document.body.classList.add('dark-mode');
        darkModeToggle.classList.add('active');
        darkModeIcon.className = 'fas fa-sun';
        darkModeText.textContent = 'Light Mode';
        localStorage.setItem('theme', 'dark');
    }

    function disableDarkMode() {
        document.body.classList.remove('dark-mode');
        darkModeToggle.classList.remove('active');
        darkModeIcon.className = 'fas fa-moon';
        darkModeText.textContent = 'Dark Mode';
        localStorage.setItem('theme', 'light');
    }

    // LIGHTBOX FUNCTIONS

    function collectMenuImages() {
        allMenuImages = [];
        const menuItemImages = document.querySelectorAll('.menu-item-image img');

        menuItemImages.forEach((img, index) => {
            const menuItem = img.closest('.menu-item-simple');
            const itemName = menuItem.querySelector('h4').textContent;
            const imgSrc = img.getAttribute('src');
            const altText = img.getAttribute('alt') || itemName;

            allMenuImages.push({
                src: imgSrc,
                alt: altText,
                caption: itemName,
                index: index
            });
        });
    }

    function openLightbox(imageIndex) {
        if (!allMenuImages[imageIndex]) return;

        currentImageIndex = imageIndex;
        const image = allMenuImages[imageIndex];

        // Show loading state
        lightboxImage.style.display = 'none';
        lightboxCaption.textContent = 'Loading...';

        // Set image
        lightboxImage.src = image.src;
        lightboxImage.alt = image.alt;

        // When image loads
        lightboxImage.onload = function() {
            lightboxImage.style.display = 'block';
            lightboxCaption.textContent = image.caption;

            // Show lightbox
            imageLightbox.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Reset zoom
            lightboxContent.classList.remove('zoomed');
            lightboxImage.style.transform = 'scale(1)';
        };

        // Handle image load error
        lightboxImage.onerror = function() {
            lightboxCaption.textContent = 'Failed to load image';
            lightboxImage.style.display = 'block';
            imageLightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        };
    }

    function closeLightbox() {
        imageLightbox.classList.remove('active');
        document.body.style.overflow = '';

        // Reset zoom
        lightboxContent.classList.remove('zoomed');
        lightboxImage.style.transform = 'scale(1)';
    }

    function nextImage() {
        currentImageIndex = (currentImageIndex + 1) % allMenuImages.length;
        openLightbox(currentImageIndex);
    }

    function prevImage() {
        currentImageIndex = (currentImageIndex - 1 + allMenuImages.length) % allMenuImages.length;
        openLightbox(currentImageIndex);
    }

    function toggleZoom() {
        if (lightboxContent.classList.contains('zoomed')) {
            // Zoom out
            lightboxContent.classList.remove('zoomed');
            lightboxImage.style.transform = 'scale(1)';
        } else {
            // Zoom in
            lightboxContent.classList.add('zoomed');
            lightboxImage.style.transform = 'scale(1.5)';
        }
    }

    function initLightbox() {
        collectMenuImages();

        // Add click event to all menu item images
        document.querySelectorAll('.menu-item-image').forEach((container, index) => {
            container.style.cursor = 'pointer';
            container.addEventListener('click', (e) => {
                e.stopPropagation();
                openLightbox(index);
            });
        });

        // Also allow clicking directly on the image
        document.querySelectorAll('.menu-item-image img').forEach((img, index) => {
            img.style.cursor = 'pointer';
            img.addEventListener('click', (e) => {
                e.stopPropagation();
                openLightbox(index);
            });
        });
    }

    // EVENT LISTENER INITIALIZATION

    function initializeMenuEventListeners() {
        // Order buttons
        document.querySelectorAll('.orderBtn').forEach(button => {
            button.addEventListener('click', function() {
                const menuItem = this.closest('.menu-item-simple');
                const itemName = menuItem.querySelector('h4').textContent;
                const itemPrice = menuItem.querySelector('.price').textContent;

                initializeOrderModal(itemName, itemPrice);

                // Show modal
                orderModal.classList.add('active');
                document.body.style.overflow = 'hidden';

                // Add click feedback
                this.classList.add('clicked');
                setTimeout(() => {
                    this.classList.remove('clicked');
                }, 500);
            });
        });
    }

    function initializeTabListeners() {
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                const tabToShow = btn.getAttribute('data-tab');
                filterMenuByCategory(tabToShow);
            });
        });
    }

    function initializeCarouselListeners() {
        prevBtn.addEventListener('click', () => {
            prevSlide();
            startAutoPlay();
        });

        nextBtn.addEventListener('click', () => {
            nextSlide();
            startAutoPlay();
        });

        carouselDots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                goToSlide(index);
                startAutoPlay();
            });
        });

        // Pause auto-play on hover
        const carousel = document.querySelector('.hero-carousel');
        carousel.addEventListener('mouseenter', stopAutoPlay);
        carousel.addEventListener('mouseleave', startAutoPlay);
    }

    function initializeFormListeners() {
        // Quantity controls
        increaseQty.addEventListener('click', function() {
            const current = parseInt(orderQuantity.value) || 1;
            if (current < 10) {
                orderQuantity.value = current + 1;
                updateTotalPrice();
            }
        });

        decreaseQty.addEventListener('click', function() {
            const current = parseInt(orderQuantity.value) || 1;
            if (current > 1) {
                orderQuantity.value = current - 1;
                updateTotalPrice();
            }
        });

        orderQuantity.addEventListener('input', function() {
            let value = parseInt(this.value) || 1;
            if (value < 1) value = 1;
            if (value > 10) value = 10;
            this.value = value;
            updateTotalPrice();
        });

        // Order form submission
        orderForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const submitBtn = document.getElementById('submitOrder');
            const customerName = document.getElementById('customerName').value.trim();
            const customerPhone = document.getElementById('customerPhone').value.trim();
            const quantity = parseInt(orderQuantity.value) || 1;
            const specialInstructions = document.getElementById('specialInstructions').value.trim();

            // Simple validation
            if (!customerName || !customerPhone) {
                alert('Please fill in your name and phone number.');
                return;
            }

            if (customerPhone.replace(/\D/g, '').length < 8) {
                alert('Please enter a valid phone number.');
                return;
            }

            // Show loading state
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';

            // Simulate API call delay
            setTimeout(() => {
                // Generate order details
                const orderNumber = generateOrderNumber();
                const total = currentItem.basePrice * quantity;

                // Update success modal
                successOrderNumber.textContent = orderNumber;
                successItemName.textContent = `${currentItem.name} × ${quantity}`;
                successQuantity.textContent = quantity;
                successTotalPrice.textContent = formatPrice(total);
                successPhone.textContent = customerPhone;

                // Close order modal and show success
                orderModal.classList.remove('active');
                successModal.classList.add('active');

                // Reset form and button
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Place Order';

                // Log order to console
                console.log('New Order:', {
                    orderNumber,
                    item: currentItem.name,
                    quantity,
                    total: formatPrice(total),
                    customerName,
                    customerPhone,
                    specialInstructions,
                    timestamp: new Date().toISOString()
                });
            }, 1500);
        });

        // Modal close buttons
        closeModal.addEventListener('click', closeOrderModal);
        cancelOrderBtn.addEventListener('click', closeOrderModal);
        closeSuccessBtn.addEventListener('click', closeSuccessModal);

        // Close modals when clicking outside
        orderModal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeOrderModal();
            }
        });

        successModal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSuccessModal();
            }
        });

        // Phone input formatting
        const phoneInput = document.getElementById('customerPhone');
        phoneInput.addEventListener('input', function() {
            let value = this.value.replace(/\D/g, '');
            if (value.length > 0) {
                value = value.match(/.{1,3}/g).join(' ');
            }
            this.value = value;
        });
    }

    function initializeLightboxListeners() {
        lightboxClose.addEventListener('click', closeLightbox);
        
        prevLightbox.addEventListener('click', (e) => {
            e.stopPropagation();
            prevImage();
        });
        
        nextLightbox.addEventListener('click', (e) => {
            e.stopPropagation();
            nextImage();
        });

        // Close lightbox when clicking outside
        imageLightbox.addEventListener('click', (e) => {
            if (e.target === imageLightbox) {
                closeLightbox();
            }
        });

        // Double click to zoom
        lightboxImage.addEventListener('dblclick', toggleZoom);

        // For mobile: double tap to zoom
        let tapCount = 0;
        let tapTimer;
        lightboxImage.addEventListener('touchstart', (e) => {
            tapCount++;

            if (tapCount === 1) {
                tapTimer = setTimeout(() => {
                    tapCount = 0;
                }, 300);
            } else if (tapCount === 2) {
                clearTimeout(tapTimer);
                tapCount = 0;
                toggleZoom();
                e.preventDefault();
            }
        });
    }

    function initializeNavigationListeners() {
        // Mobile menu toggle
        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (event) => {
            const isClickInsideMenu = navMenu.contains(event.target);
            const isClickOnMenuButton = mobileMenuBtn.contains(event.target);

            if (navMenu.classList.contains('active') && !isClickInsideMenu && !isClickOnMenuButton) {
                navMenu.classList.remove('active');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();

                const targetId = this.getAttribute('href');
                if (targetId === '#home') {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                } else {
                    const targetElement = document.querySelector(targetId);
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }

                navMenu.classList.remove('active');
            });
        });

        // Close menu on scroll
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
            }

            // Header scroll effect
            const header = document.querySelector('header');
            if (scrollTop > 100) {
                header.style.padding = '15px 0';
                header.style.backgroundColor = 'rgba(26, 26, 26, 0.98)';
            } else {
                header.style.padding = '20px 0';
                header.style.backgroundColor = 'rgba(26, 26, 26, 0.95)';
            }
        });
    }

    function initializeDarkMode() {
        // Check for saved theme or prefer-color-scheme
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        const savedTheme = localStorage.getItem('theme');

        if (savedTheme === 'dark' || (!savedTheme && prefersDarkScheme.matches)) {
            enableDarkMode();
        }

        // Dark mode toggle event
        darkModeToggle.addEventListener('click', () => {
            if (document.body.classList.contains('dark-mode')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        });

        // Listen for system theme changes
        prefersDarkScheme.addListener((e) => {
            if (!localStorage.getItem('theme')) {
                if (e.matches) {
                    enableDarkMode();
                } else {
                    disableDarkMode();
                }
            }
        });
    }

    function initializeKeyboardListeners() {
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                if (imageLightbox.classList.contains('active')) {
                    prevImage();
                } else {
                    prevSlide();
                    startAutoPlay();
                }
            } else if (e.key === 'ArrowRight') {
                if (imageLightbox.classList.contains('active')) {
                    nextImage();
                } else {
                    nextSlide();
                    startAutoPlay();
                }
            } else if (e.key === 'Escape') {
                if (orderModal.classList.contains('active')) {
                    closeOrderModal();
                } else if (successModal.classList.contains('active')) {
                    closeSuccessModal();
                } else if (imageLightbox.classList.contains('active')) {
                    closeLightbox();
                }
            } else if (e.key === ' ' && imageLightbox.classList.contains('active')) {
                // Space to toggle zoom
                toggleZoom();
                e.preventDefault();
            }
        });
    }

    // INITIALIZATION

    document.addEventListener('DOMContentLoaded', function() {
        // Remove existing menu content
        const existingMenuContent = document.querySelectorAll('.menu-section, .all-menu-content, .tab-content-section');
        existingMenuContent.forEach(el => el.remove());

        // Initialize all listeners
        initializeNavigationListeners();
        initializeDarkMode();
        initializeTabListeners();
        initializeCarouselListeners();
        initializeFormListeners();
        initializeLightboxListeners();
        initializeKeyboardListeners();

        // Initialize carousel
        const totalSlides = document.querySelectorAll('.carousel-slide').length;
        totalSlidesEl.textContent = totalSlides;
        updateCarousel();
        startAutoPlay();

        // Set initial active tab and render menu
        const allBtn = document.querySelector('.tab-btn[data-tab="all"]');
        if (allBtn) {
            allBtn.classList.add('active');
        }
        renderAllMenuSections();

        // Check auto-play on mobile
        function checkAutoPlay() {
            if (window.innerWidth <= 480) {
                stopAutoPlay();
                const autoPlayIndicator = document.querySelector('.carousel-auto-play');
                if (autoPlayIndicator) {
                    autoPlayIndicator.style.display = 'none';
                }
            } else {
                startAutoPlay();
                const autoPlayIndicator = document.querySelector('.carousel-auto-play');
                if (autoPlayIndicator) {
                    autoPlayIndicator.style.display = 'flex';
                }
            }
        }

        // Check on load and resize
        window.addEventListener('load', checkAutoPlay);
        window.addEventListener('resize', checkAutoPlay);
        checkAutoPlay();
    });
</script>
</body>


</html>
